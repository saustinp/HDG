function [fh,fh_udg,fh_uh] = fhat_ns3d(nl,pg,udg,uh,param,time)
%FHAT_NS3D
%    [FH,FH_UDG,FH_UH] = FHAT_NS3D(NL,PG,UDG,UH,PARAM,TIME)

%    This function was generated by the Symbolic Math Toolbox version 8.1.
%    16-Dec-2019 13:42:46
[ng,nc] = size(udg);
nch = 5;
nd = 3;
nl1 = nl(:,1);
nl2 = nl(:,2);
nl3 = nl(:,3);
one = ones(ng,1);
param1 = param{1};
param2 = param{2};
param3 = param{3};
param4 = param{4};
param5 = param{5};
param6 = param{6};
u1 = udg(:,1);
u2 = udg(:,2);
u3 = udg(:,3);
u4 = udg(:,4);
u5 = udg(:,5);
u6 = udg(:,6);
u7 = udg(:,7);
u8 = udg(:,8);
u9 = udg(:,9);
u10 = udg(:,10);
u11 = udg(:,11);
u12 = udg(:,12);
u13 = udg(:,13);
u14 = udg(:,14);
u15 = udg(:,15);
u16 = udg(:,16);
u17 = udg(:,17);
u18 = udg(:,18);
u19 = udg(:,19);
u20 = udg(:,20);
uh5 = uh(:,5);
x1 = pg(:,1);
zero = zeros(ng,1);
t2 = param1-1.0;
t3 = 1.0./u1.^2;
t4 = 1.0./u1;
t5 = u2.^2;
t6 = t3.*t5.*(1.0./2.0);
t7 = u3.^2;
t8 = t3.*t7.*(1.0./2.0);
t9 = u4.^2;
t10 = t3.*t9.*(1.0./2.0);
t11 = t6+t8+t10;
t12 = param2.^2;
t13 = x1.^2;
t14 = param5.^2;
t15 = t12.*t13.*u1.*(1.0./2.0);
t17 = t11.*u1;
t16 = t15-t17+u5;
t18 = 1.0./param3;
t19 = 1.0./param4;
t20 = 1.0./param5.^2;
t21 = 1.0./t2;
t37 = t4.*u2.*u16;
t22 = -t37+u17;
t23 = t3.*t22.*u2;
t38 = t4.*u3.*u16;
t24 = -t38+u18;
t25 = t3.*t24.*u3;
t39 = t4.*u4.*u16;
t26 = -t39+u19;
t27 = t3.*t26.*u4;
t28 = t23+t25+t27;
t29 = t12.*t13.*u16.*(1.0./2.0);
t59 = t28.*u1;
t60 = t11.*u16;
t30 = t29-t59-t60+u20;
t31 = 1.0./u1.^3;
t32 = t5.*t31;
t33 = t7.*t31;
t34 = t9.*t31;
t35 = t32+t33+t34;
t36 = 1.0./u1.^4;
t40 = t2.*t16.*u6;
t54 = t4.*u2.*u6;
t41 = -t54+u7;
t42 = t3.*t41.*u2;
t55 = t4.*u3.*u6;
t43 = -t55+u8;
t44 = t3.*t43.*u3;
t56 = t4.*u4.*u6;
t45 = -t56+u9;
t46 = t3.*t45.*u4;
t47 = t42+t44+t46;
t48 = t47.*u1;
t49 = t11.*u6;
t50 = t12.*u1.*x1;
t57 = t12.*t13.*u6.*(1.0./2.0);
t51 = t48+t49+t50-t57-u10;
t52 = t2.*t51.*u1;
t53 = t40+t52;
t80 = t12.*t13.*(1.0./2.0);
t81 = t35.*u1;
t58 = t6+t8+t10-t80-t81;
t61 = t2.*t30.*u1;
t62 = t61-t2.*t16.*u16;
t63 = 1.0./x1.^2;
t64 = t2.*t16.*u11;
t75 = t4.*u2.*u11;
t65 = -t75+u12;
t66 = t3.*t65.*u2;
t76 = t4.*u3.*u11;
t67 = -t76+u13;
t68 = t3.*t67.*u3;
t77 = t4.*u4.*u11;
t69 = -t77+u14;
t70 = t3.*t69.*u4;
t71 = t66+t68+t70;
t72 = t12.*t13.*u11.*(1.0./2.0);
t78 = t71.*u1;
t79 = t11.*u11;
t73 = t72-t78-t79+u15;
t74 = t64-t2.*t73.*u1;
fh = param6.*(u5-uh5)-t18.*t19.*t20.*t21.*(nl1.*param1.*t3.*t14.*t53-nl3.*param1.*t3.*t14.*t62+nl2.*param1.*t3.*t14.*t63.*t74);
if nargout > 1
    t82 = t2.*t16;
    t83 = t2.*t58.*u1;
    t84 = t82+t83;
    fh_udg = [t18.*t19.*t20.*t21.*(nl3.*param1.*t3.*t14.*(t2.*t30+t2.*t58.*u16-t2.*u1.*(t23+t25+t27-t35.*u16-u1.*(t22.*t31.*u2.*2.0-t5.*t36.*u16+t24.*t31.*u3.*2.0-t7.*t36.*u16-t9.*t36.*u16+t26.*t31.*u4.*2.0)))+nl1.*param1.*t14.*t31.*t53.*2.0-nl3.*param1.*t14.*t31.*t62.*2.0-nl1.*param1.*t3.*t14.*(t2.*t51+t2.*u1.*(t42+t44+t46-t35.*u6+t12.*x1+u1.*(t5.*t36.*u6+t7.*t36.*u6+t9.*t36.*u6-t31.*t41.*u2.*2.0-t31.*t43.*u3.*2.0-t31.*t45.*u4.*2.0))-t2.*t58.*u6)+nl2.*param1.*t14.*t31.*t63.*t74.*2.0+nl2.*param1.*t3.*t14.*t63.*(t2.*t73+t2.*t58.*u11-t2.*u1.*(t66+t68+t70-t35.*u11+u1.*(t5.*t36.*u11+t7.*t36.*u11+t9.*t36.*u11-t31.*t65.*u2.*2.0-t31.*t67.*u3.*2.0-t31.*t69.*u4.*2.0))));-t18.*t19.*t20.*t21.*(nl1.*param1.*t3.*t14.*(t2.*u1.*(u1.*(t3.*t41-t31.*u2.*u6)+t3.*u2.*u6)-t2.*t4.*u2.*u6)+nl3.*param1.*t3.*t14.*(t2.*u1.*(u1.*(t3.*t22-t31.*u2.*u16)+t3.*u2.*u16)-t2.*t4.*u2.*u16)+nl2.*param1.*t3.*t14.*t63.*(t2.*u1.*(u1.*(t3.*t65-t31.*u2.*u11)+t3.*u2.*u11)-t2.*t4.*u2.*u11));-t18.*t19.*t20.*t21.*(nl1.*param1.*t3.*t14.*(t2.*u1.*(u1.*(t3.*t43-t31.*u3.*u6)+t3.*u3.*u6)-t2.*t4.*u3.*u6)+nl3.*param1.*t3.*t14.*(t2.*u1.*(u1.*(t3.*t24-t31.*u3.*u16)+t3.*u3.*u16)-t2.*t4.*u3.*u16)+nl2.*param1.*t3.*t14.*t63.*(t2.*u1.*(u1.*(t3.*t67-t31.*u3.*u11)+t3.*u3.*u11)-t2.*t4.*u3.*u11));-t18.*t19.*t20.*t21.*(nl1.*param1.*t3.*t14.*(t2.*u1.*(u1.*(t3.*t45-t31.*u4.*u6)+t3.*u4.*u6)-t2.*t4.*u4.*u6)+nl3.*param1.*t3.*t14.*(t2.*u1.*(u1.*(t3.*t26-t31.*u4.*u16)+t3.*u4.*u16)-t2.*t4.*u4.*u16)+nl2.*param1.*t3.*t14.*t63.*(t2.*u1.*(u1.*(t3.*t69-t31.*u4.*u11)+t3.*u4.*u11)-t2.*t4.*u4.*u11));param6-t18.*t19.*t20.*t21.*(nl1.*param1.*t2.*t3.*t14.*u6+nl3.*param1.*t2.*t3.*t14.*u16+nl2.*param1.*t2.*t3.*t14.*t63.*u11);-nl1.*param1.*t3.*t18.*t19.*t21.*t84;-nl1.*param1.*t3.*t18.*t19.*u2;-nl1.*param1.*t3.*t18.*t19.*u3;-nl1.*param1.*t3.*t18.*t19.*u4;nl1.*param1.*t4.*t18.*t19;-nl2.*param1.*t3.*t18.*t19.*t21.*t63.*t84;-nl2.*param1.*t3.*t18.*t19.*t63.*u2;-nl2.*param1.*t3.*t18.*t19.*t63.*u3;-nl2.*param1.*t3.*t18.*t19.*t63.*u4;nl2.*param1.*t4.*t18.*t19.*t63;-nl3.*param1.*t3.*t18.*t19.*t21.*t84;-nl3.*param1.*t3.*t18.*t19.*u2;-nl3.*param1.*t3.*t18.*t19.*u3;-nl3.*param1.*t3.*t18.*t19.*u4;nl3.*param1.*t4.*t18.*t19];
end
if nargout > 2
    fh_uh = [zero;zero;zero;zero;-one.*param6];
end
fh = reshape(fh,ng,1);
fh_udg = reshape(fh_udg,ng,1,nc);
fh_uh = reshape(fh_uh,ng,1,nch);
