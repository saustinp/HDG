function [s,s_udg] = source_ns3d(pg,udg,param,time)
%SOURCE_NS3D
%    [S,S_UDG] = SOURCE_NS3D(PG,UDG,PARAM,TIME)

%    This function was generated by the Symbolic Math Toolbox version 8.1.
%    16-Dec-2019 13:42:43
[ng,nc] = size(udg);
nch = 5;
nd = 3;
one = ones(ng,1);
param1 = param{1};
param2 = param{2};
param3 = param{3};
param4 = param{4};
u1 = udg(:,1);
u2 = udg(:,2);
u3 = udg(:,3);
u4 = udg(:,4);
u5 = udg(:,5);
u6 = udg(:,6);
u7 = udg(:,7);
u8 = udg(:,8);
u9 = udg(:,9);
u10 = udg(:,10);
u11 = udg(:,11);
u12 = udg(:,12);
u13 = udg(:,13);
u16 = udg(:,16);
u17 = udg(:,17);
u19 = udg(:,19);
x1 = pg(:,1);
zero = zeros(ng,1);
t2 = 1.0./x1;
t3 = 1.0./u1;
t4 = 1.0./param3;
t27 = t3.*u2.*u6;
t5 = -t27+u7;
t28 = t3.*u4.*u16;
t6 = -t28+u19;
t29 = t3.*u3.*u11;
t7 = -t29+u13;
t8 = t3.*t6;
t9 = u2.^2;
t10 = 1.0./u1.^2;
t11 = u3.^2;
t12 = param2.^2;
t13 = x1.^2;
t43 = t3.*u4.*u6;
t14 = -t43+u9;
t15 = t3.*t14;
t47 = t3.*u2.*u16;
t16 = -t47+u17;
t17 = t3.*t16;
t18 = t15+t17;
t42 = t3.*u3.*u6;
t19 = -t42+u8;
t20 = t3.*t19;
t46 = t3.*u2.*u11;
t21 = -t46+u12;
t22 = t3.*t21;
t23 = t3.*u3;
t24 = t22+t23;
t25 = t2.*t24;
t26 = t20+t25;
t30 = t3.*t7;
t53 = t3.*u2;
t31 = t30-t53;
t32 = t2.*t31;
t52 = t3.*t5.*2.0;
t33 = t8+t32-t52;
t34 = param1-1.0;
t35 = t9.*t10.*(1.0./2.0);
t36 = t10.*t11.*(1.0./2.0);
t37 = u4.^2;
t38 = t10.*t37.*(1.0./2.0);
t39 = t35+t36+t38;
t40 = t12.*t13.*u1.*(1.0./2.0);
t48 = t39.*u1;
t41 = t40-t48+u5;
t44 = 1.0./u1.^3;
t45 = t44.*u4.*u16;
t49 = t10.*t14;
t50 = t10.*t16;
t97 = t44.*u4.*u6;
t51 = t49+t50-t97-t44.*u2.*u16;
t54 = t10.*t19;
t55 = t10.*t21;
t56 = t10.*u3;
t57 = t55+t56-t44.*u2.*u11;
t58 = t2.*t57;
t96 = t44.*u3.*u6;
t59 = t54+t58-t96;
t60 = t5.*t10.*2.0;
t61 = t6.*t10;
t62 = t10.*u2;
t63 = t44.*u3.*u11;
t64 = t62+t63-t7.*t10;
t65 = t2.*t64;
t66 = 1.0./param4;
t67 = t34.*t41.*u6;
t68 = t5.*t10.*u2;
t69 = t10.*t19.*u3;
t70 = t10.*t14.*u4;
t71 = t68+t69+t70;
t72 = t71.*u1;
t73 = t39.*u6;
t74 = t12.*u1.*x1;
t79 = t12.*t13.*u6.*(1.0./2.0);
t75 = t72+t73+t74-t79-u10;
t76 = t34.*t75.*u1;
t77 = t67+t76;
t78 = 1.0./t34;
t80 = t9.*t44;
t81 = t11.*t44;
t82 = t37.*t44;
t83 = t80+t81+t82;
t84 = 1.0./u1.^4;
t98 = t12.*t13.*(1.0./2.0);
t99 = t83.*u1;
t85 = t35+t36+t38-t98-t99;
t86 = t3.*u5;
t87 = t3.*t34.*t41;
s = [-t2.*u2;t2.*(-t3.*t9+t3.*t11+t4.*t33.*(2.0./3.0)-t4.*(t8+t3.*t5-t2.*(t3.*t7.*2.0-t3.*u2.*2.0)).*(2.0./3.0)+t12.*t13.*u1+param2.*u3.*x1.*2.0);-t2.*(t4.*t26.*2.0+param2.*u2.*x1.*2.0+t3.*u2.*u3.*2.0);-t2.*(t4.*t18+t3.*u2.*u4);-t2.*(u2.*(t86+t87)+t3.*t4.*t18.*u4+t3.*t4.*t26.*u3-t3.*t4.*t33.*u2.*(2.0./3.0)-param1.*t4.*t10.*t66.*t77.*t78)];
if nargout > 1
    t88 = t2.*t3;
    t89 = t88-t10.*u6.*2.0;
    t90 = t5.*t10;
    t91 = param2.*x1.*2.0;
    t92 = t3.*u3.*2.0;
    t93 = t91+t92-t2.*t4.*t10.*u11.*2.0;
    t94 = t3.*u2.*2.0;
    t95 = t88-t10.*u6;
    t100 = 1.0./x1.^2;
    t101 = t2.*t4.*t10.*u4;
    s_udg = [zero;t2.*(t4.*(-t45+t61+t90+t2.*(t7.*t10.*-2.0+t10.*u2.*2.0+t44.*u3.*u11.*2.0)-t44.*u2.*u6).*(2.0./3.0)+t9.*t10-t10.*t11+t12.*t13+t4.*(t45+t60+t65-t6.*t10-t44.*u2.*u6.*2.0).*(2.0./3.0));t2.*(t4.*t59.*2.0+t10.*u2.*u3.*2.0);t2.*(t4.*t51+t10.*u2.*u4);t2.*(u2.*(t10.*u5+t10.*t34.*t41+t3.*t34.*t85)+t3.*t4.*u2.*(t45+t60-t61+t65-t44.*u2.*u6.*2.0).*(2.0./3.0)+t4.*t10.*t18.*u4+t4.*t10.*t26.*u3-t4.*t10.*t33.*u2.*(2.0./3.0)+t3.*t4.*t51.*u4+t3.*t4.*t59.*u3-param1.*t4.*t44.*t66.*t77.*t78.*2.0+param1.*t4.*t10.*t66.*t78.*(t34.*t75+t34.*u1.*(t68+t69+t70-t83.*u6+t12.*x1-u1.*(t5.*t44.*u2.*2.0+t14.*t44.*u4.*2.0+t19.*t44.*u3.*2.0-t9.*t84.*u6-t11.*t84.*u6-t37.*t84.*u6))-t34.*t85.*u6));-one.*t2;-t2.*(t94+t4.*t89.*(2.0./3.0)+t4.*(t2.*t3.*2.0-t10.*u6).*(2.0./3.0));-t2.*t93;-t2.*(t3.*u4-t4.*t10.*u16);t2.*(-t86-t87+t3.*t4.*t33.*(2.0./3.0)+t9.*t10.*t34-t3.*t4.*t89.*u2.*(2.0./3.0)+t4.*t44.*u4.*u16+t2.*t4.*t44.*u3.*u11+param1.*t4.*t10.*t66.*t78.*(t34.*u1.*(u1.*(t90-t44.*u2.*u6)+t10.*u2.*u6)-t3.*t34.*u2.*u6));zero;t2.*t93;-t2.*(t94+t4.*t95.*2.0);zero;-t2.*(t3.*t4.*t26+t3.*t4.*t95.*u3-t10.*t34.*u2.*u3+t2.*t4.*t44.*u2.*u11.*(2.0./3.0)-param1.*t4.*t10.*t66.*t78.*(t34.*u1.*(u1.*(t54-t96)+t10.*u3.*u6)-t3.*t34.*u3.*u6));zero;zero;zero;-t2.*(t53-t4.*t10.*u6);t2.*(-t3.*t4.*t18+t10.*t34.*u2.*u4+t4.*t44.*u4.*u6-t4.*t44.*u2.*u16.*(2.0./3.0)+param1.*t4.*t10.*t66.*t78.*(t34.*u1.*(u1.*(t49-t97)+t10.*u4.*u6)-t3.*t34.*u4.*u6));zero;zero;zero;zero;-t2.*(u2.*(t3+t3.*t34)-param1.*t4.*t10.*t66.*u6);zero;t2.*t4.*t10.*u2.*2.0;t2.*t4.*t10.*u3.*2.0;t101;t2.*(t4.*t9.*t44.*(4.0./3.0)+t4.*t11.*t44+t4.*t37.*t44+param1.*t4.*t10.*t66.*t78.*(t34.*t41+t34.*t85.*u1));zero;t2.*t3.*t4.*-2.0;zero;zero;-t2.*(t4.*t10.*u2.*(4.0./3.0)-param1.*t4.*t10.*t66.*u2);zero;zero;t2.*t3.*t4.*-2.0;zero;-t2.*(t4.*t10.*u3-param1.*t4.*t10.*t66.*u3);zero;zero;zero;-t2.*t3.*t4;-t2.*(t4.*t10.*u4-param1.*t4.*t10.*t66.*u4);zero;zero;zero;zero;-param1.*t2.*t3.*t4.*t66;zero;t4.*t10.*t100.*u3.*-2.0;t4.*t10.*t100.*u2.*2.0;zero;t4.*t44.*t100.*u2.*u3.*(1.0./3.0);zero;zero;t3.*t4.*t100.*-2.0;zero;-t4.*t10.*t100.*u3;zero;t3.*t4.*t100.*2.0;zero;zero;t4.*t10.*t100.*u2.*(2.0./3.0);zero;zero;zero;zero;zero;zero;zero;zero;zero;zero;zero;zero;zero;t2.*t4.*t10.*u2;t2.*t4.*t44.*u2.*u4.*(1.0./3.0);zero;zero;zero;-t2.*t3.*t4;-t101;zero;zero;zero;zero;zero;zero;zero;zero;zero;t2.*t4.*t10.*u2.*(2.0./3.0);zero;zero;zero;zero;zero];
end
s = reshape(s,ng,nch);
s_udg = reshape(s_udg,ng,nch,nc);
